C:\Users\Nico\Documents\Thomas more\Digi-sketch\programma\project.xsf 
C:\Users\Nico\Documents\Thomas more\Digi-sketch\programma\project.inc 
       1       1   00000                  ;------------------------------------------------------------------
       2       2   00000                  ;Lijst van functies:
       3       3   00000                  ;   -statusCheck            Status check van scherm opslaan in STA register
       4       4   00000                  ;   -initGLCD               Initializatie van grafisch LCD scherm
       5       5   00000                  ;   -debug                  debug info op seriele poot zetten
       6       6   00000                  ;   -dataWrite              data naar het scherm sturen
       7       7   00000                  ;   -dataRead               data van het scherm lezen
       8       8   00000                  ;   -comandWrite            comanndo naar scherm sturen
       9       9   00000                  ;------------------------------------------------------------------
      10      10   00000                  ;------------------------------------------------------------------
      11      11   00000                  ;declaratie van pinnen
      12      12   00000                  ;------------------------------------------------------------------
      13      13   00000                      WR          bit     p3_data.0   ;write line van scherm actief laag
                                          ***** Error: Unresolved operand(s)
      14      14   00000                      RD          bit     p3_data.1   ;read line van scherrm actief laag
                                          ***** Error: Unresolved operand(s)
      15      15   00000                      CE          bit     p3_data.2   ;chip enble van scherm actief laag
                                          ***** Error: Unresolved operand(s)
      16      16   00000                      CD          bit     p3_data.3   ;Command write
                                          ***** Error: Unresolved operand(s)
      17      17   00000                      RESET       bit     p0_data.1   ;reset van scherm actief laag
                                          ***** Error: Unresolved operand(s)
      18      18   00000                      FS          bit     p0_data.0   ;font groote selecteren FS=1: 6*8, FS=0: 8*8
                                          ***** Error: Unresolved operand(s)
      19      19   00000                  
      20      20   00000                  ;------------------------------------------------------------------
      21      21   00000                  ;declaratie van registers
      22      22   00000                  ;------------------------------------------------------------------
      23      23   00000                      STA         equ     10h         ;geheugenplaats voor de status check
      24      24   00000                      DATAREG     equ     11h         ;geheugenplaats voor het verzenden van data naar het scherm
      25      25   00000                      COMANDREG   equ     12h         ;geheugenplaats voor het verzenden van comandos naar het scherm
      26      26   00000                      ROTARY      equ     13h         ;geheugenplaats voor de momentele waarde van de encoders
      27      27   00000                  
      28      28   00000                  ;------------------------------------------------------------------
      29      29   00000                  ;Status check van scherm opslaan in STA register
      30      30   00000                  ;-STA
      31      31   00000                  ;------------------------------------------------------------------
      32      32   00000                  statusCheck:
      33      33   00000 C000                 push    acc
                                          ***** Error: Unresolved operand(s)
      34      34   00002 C000                 push    psw
                                          ***** Error: Unresolved operand(s)
      35      35   00004 C210                 clr     STA                     ;STA register leeg maken
      36      36   00006 750000               mov     p4_dir,#000h            ;p4 als input zetten
                                          ***** Error: Unresolved operand(s)
      37      37   00009 D200                 setb    CD
                                          ***** Error: Unresolved operand(s)
      38      38   0000B D200                 setb    WR
                                          ***** Error: Unresolved operand(s)
      39      39   0000D                  stan:
      40      40   0000D C200                 clr     RD
                                          ***** Error: Unresolved operand(s)
      41      41   0000F E500                 mov     a,p4_data
                                          ***** Error: Unresolved operand(s)
      42      42   00011 D200                 setb    RD
                                          ***** Error: Unresolved operand(s)
      43      43   00013 D200                 setb    CD
                                          ***** Error: Unresolved operand(s)
      44      44   00015 F8                   mov     r0,a
      45      45   00016 120111               lcall   debug
      46      46   00019 F510                 mov     STA,a                   ;bijhouden voor eventueel gebruik
      47      47   0001B 5403                 anl     a,#03h                  ;masker voor STA0 en STA1
      48      48   0001D B403ED               cjne    a,#03h,stan
      49      49   00020 F8                   mov     r0,a
      50      50   00021 120111               lcall   debug
      51      51   00024 7500FF               mov     p4_dir,#0ffh
                                          ***** Error: Unresolved operand(s)
      52      52   00027 D000                 pop     psw
                                          ***** Error: Unresolved operand(s)
      53      53   00029 D000                 pop     acc
                                          ***** Error: Unresolved operand(s)
      54      54   0002B 22               ret
      55      55   0002C                  
      56      56   0002C                  ;------------------------------------------------------------------
      57      57   0002C                  ;Initializatie van grafisch LCD scherm
      58      58   0002C                  ;------------------------------------------------------------------
      59      59   0002C                  initGLCD:
      60      60   0002C 120000               lcall   initsio                 ;voor debug
                                          ***** Error: Unresolved operand(s)
      61      61   0002F 7500FF               mov     p0_dir,#0ffh            ;poort 1 als output
                                          ***** Error: Unresolved operand(s)
      62      62   00032 7500FF               mov     p3_dir,#0ffh            ;poort 3 als output
                                          ***** Error: Unresolved operand(s)
      63      63   00035 C200                 clr     CE                      ;standaart laag houden
                                          ***** Error: Unresolved operand(s)
      64      64   00037 D200                 setb    WR                      ;standaart hoog maken
                                          ***** Error: Unresolved operand(s)
      65      65   00039 D200                 setb    RD                      ;standaart hoog maken
                                          ***** Error: Unresolved operand(s)
      66      66   0003B D200                 setb    FS                      ;font op 6*8 zetten
                                          ***** Error: Unresolved operand(s)
      67      67   0003D C200                 clr     RESET                   ;reseten van scherm
                                          ***** Error: Unresolved operand(s)
      68      68   0003F 120000               lcall   delay1ms
                                          ***** Error: Unresolved operand(s)
      69      69   00042 D200                 setb    RESET                   ;reset terug af zetten
                                          ***** Error: Unresolved operand(s)
      70      70   00044 120000               lcall   statusCheck             ;initiele status check uitvoeren
      71      71   00047                  
      72      72   00047                      ;Mode set
      73      73   00047 751280               mov     COMANDREG,#10000000b
      74      74   0004A 1200FB               lcall   comandWrite
      75      75   0004D                  
      76      76   0004D                      ;Graphics home address
      77      77   0004D 751100               mov     DATAREG,#00h
      78      78   00050 1200AE               lcall   dataWrite
      79      79   00053 751100               mov     DATAREG,#00h
      80      80   00056 1200AE               lcall   dataWrite
      81      81   00059 751242               mov     COMANDREG,#42h
      82      82   0005C 1200FB               lcall   comandWrite
      83      83   0005F                  
      84      84   0005F                      ;Graphics area set
      85      85   0005F 751128               mov     DATAREG,#28h
      86      86   00062 1200AE               lcall   dataWrite
      87      87   00065 751100               mov     DATAREG,#00h
      88      88   00068 1200AE               lcall   dataWrite
      89      89   0006B 751243               mov     COMANDREG,#43h
      90      90   0006E 1200FB               lcall   comandWrite
      91      91   00071                  
      92      92   00071                      ;text home address
      93      93   00071 751100               mov     DATAREG,#00h
      94      94   00074 1200AE               lcall   dataWrite
      95      95   00077 75110A               mov     DATAREG,#0ah
      96      96   0007A 1200AE               lcall   dataWrite
      97      97   0007D 751240               mov     COMANDREG,#40h
      98      98   00080 1200FB               lcall   comandWrite
      99      99   00083                  
     100     100   00083                      ;text area set
     101     101   00083 751128               mov     DATAREG,#28h
     102     102   00086 1200AE               lcall   dataWrite
     103     103   00089 751100               mov     DATAREG,#00h
     104     104   0008C 1200AE               lcall   dataWrite
     105     105   0008F 751241               mov     COMANDREG,#41h
     106     106   00092 1200FB               lcall   comandWrite
     107     107   00095                  
     108     108   00095                      ;adres data pointer
     109     109   00095 751100               mov     DATAREG,#00h            ;lower address
     110     110   00098 1200AE               lcall   dataWrite
     111     111   0009B 751100               mov     DATAREG,#00h
     112     112   0009E 1200AE               lcall   dataWrite
     113     113   000A1 751224               mov     COMANDREG,#24h
     114     114   000A4 1200FB               lcall   comandWrite
     115     115   000A7                  
     116     116   000A7                      ;Display mode
     117     117   000A7 751290               mov     COMANDREG,#10010000b
     118     118   000AA 1200FB               lcall   comandWrite
     119     119   000AD                  
     120     120   000AD 22               ret
     121     121   000AE                  
     122     122   000AE                  ;------------------------------------------------------------------
     123     123   000AE                  ;Data naar het schem sturen
     124     124   000AE                  ;-DATAREG
     125     125   000AE                  ;------------------------------------------------------------------
     126     126   000AE                  DataWrite:
     127     127   000AE C000                 push    acc
                                          ***** Error: Unresolved operand(s)
     128     128   000B0 C000                 push    psw
                                          ***** Error: Unresolved operand(s)
     129     129   000B2 120000               lcall   statusCheck             ;status checken
     130     130   000B5 851100               mov     p4_data,DATAREG         ;zet de data op de bus
                                          ***** Error: Unresolved operand(s)
     131     131   000B8 C200                 clr     CD
                                          ***** Error: Unresolved operand(s)
     132     132   000BA 00                   nop
     133     133   000BB C200                 clr     WR
                                          ***** Error: Unresolved operand(s)
     134     134   000BD 00                   nop
     135     135   000BE D200                 setb    WR
                                          ***** Error: Unresolved operand(s)
     136     136   000C0 D000                 pop     psw
                                          ***** Error: Unresolved operand(s)
     137     137   000C2 D000                 pop     acc
                                          ***** Error: Unresolved operand(s)
     138     138   000C4 22               ret
     139     139   000C5                  
     140     140   000C5                  dataAutoWrite:
     141     141   000C5 C000                 push    acc
                                          ***** Error: Unresolved operand(s)
     142     142   000C7 C000                 push    psw
                                          ***** Error: Unresolved operand(s)
     143     143   000C9                  dataAutoWriteStatus:
     144     144   000C9 120000               lcall   statusCheck             ;status checken
     145     145   000CC E510                 mov     a,STA
     146     146   000CE 5404                 anl     a,#04h                ;sta 2 nakijken
     147     147   000D0 B404F6               cjne    a,#04h,dataAutoWriteStatus
     148     148   000D3 851100               mov     p4_data,DATAREG         ;zet de data op de bus
                                          ***** Error: Unresolved operand(s)
     149     149   000D6 C200                 clr     CD
                                          ***** Error: Unresolved operand(s)
     150     150   000D8 00                   nop
     151     151   000D9 C200                 clr     WR
                                          ***** Error: Unresolved operand(s)
     152     152   000DB 00                   nop
     153     153   000DC D200                 setb    WR
                                          ***** Error: Unresolved operand(s)
     154     154   000DE D000                 pop     psw
                                          ***** Error: Unresolved operand(s)
     155     155   000E0 D000                 pop     acc
                                          ***** Error: Unresolved operand(s)
     156     156   000E2 22               ret
     157     157   000E3                  
     158     158   000E3                  ;------------------------------------------------------------------
     159     159   000E3                  ;data van het scherm inlezen
     160     160   000E3                  ;-DATAREG
     161     161   000E3                  ;------------------------------------------------------------------
     162     162   000E3                  DataRead:
     163     163   000E3 C000                 push    acc
                                          ***** Error: Unresolved operand(s)
     164     164   000E5 C000                 push    psw
                                          ***** Error: Unresolved operand(s)
     165     165   000E7 120000               lcall   statusCheck             ;status checken
     166     166   000EA 750000               mov     p4_dir,#000h            ;p4 als ingang
                                          ***** Error: Unresolved operand(s)
     167     167   000ED C200                 clr     CD
                                          ***** Error: Unresolved operand(s)
     168     168   000EF C200                 clr     RD
                                          ***** Error: Unresolved operand(s)
     169     169   000F1 00                   nop                             ;wachten
     170     170   000F2 00                   nop
     171     171   000F3 850011               mov     DATAREG,p4_data         ;data inlezeen van scherm
                                          ***** Error: Unresolved operand(s)
     172     172   000F6 D000                 pop     psw
                                          ***** Error: Unresolved operand(s)
     173     173   000F8 D000                 pop     acc
                                          ***** Error: Unresolved operand(s)
     174     174   000FA 22               ret
     175     175   000FB                  
     176     176   000FB                  ;------------------------------------------------------------------
     177     177   000FB                  ;comando naar het scherrm sturen
     178     178   000FB                  ;-COMANDREG
     179     179   000FB                  ;------------------------------------------------------------------
     180     180   000FB                  ComandWrite:
     181     181   000FB C000                 push    acc
                                          ***** Error: Unresolved operand(s)
     182     182   000FD C000                 push    psw
                                          ***** Error: Unresolved operand(s)
     183     183   000FF 120000               lcall   statusCheck             ;status checken
     184     184   00102 851200               mov     p4_data,COMANDREG       ;comando op de bus zetten
                                          ***** Error: Unresolved operand(s)
     185     185   00105 D200                 setb    CD
                                          ***** Error: Unresolved operand(s)
     186     186   00107 C200                 clr     WR
                                          ***** Error: Unresolved operand(s)
     187     187   00109 00                   nop
     188     188   0010A D200                 setb    WR
                                          ***** Error: Unresolved operand(s)
     189     189   0010C D000                 pop     psw
                                          ***** Error: Unresolved operand(s)
     190     190   0010E D000                 pop     acc
                                          ***** Error: Unresolved operand(s)
     191     191   00110 22               ret
     192     192   00111                  
     193     193   00111                  ;------------------------------------------------------------------
     194     194   00111                  ;debug info op seriele poort zetten
     195     195   00111                  ;-r0
     196     196   00111                  ;------------------------------------------------------------------
     197     197   00111                  debug:
     198     198   00111 C000                 push    acc
                                          ***** Error: Unresolved operand(s)
     199     199   00113 C000                 push    psw
                                          ***** Error: Unresolved operand(s)
     200     200   00115 740D                 mov     a,#0dh
     201     201   00117 120000               lcall   siooutchar
                                          ***** Error: Unresolved operand(s)
     202     202   0011A E8                   mov     a,r0
     203     203   0011B 120000               lcall   siooutbyte
                                          ***** Error: Unresolved operand(s)
     204     204   0011E 740A                 mov     a,#0ah
     205     205   00120 120000               lcall   siooutchar
                                          ***** Error: Unresolved operand(s)
     206     206   00123 D000                 pop     psw
                                          ***** Error: Unresolved operand(s)
     207     207   00125 D000                 pop     acc
                                          ***** Error: Unresolved operand(s)
     208     208   00127 22               ret
     209     209   00128                  
     210     210   00128                  initRotary:
     211     211   00128 C000                 push    acc
                                          ***** Error: Unresolved operand(s)
     212     212   0012A C000                 push    psw
                                          ***** Error: Unresolved operand(s)
     213     213   0012C 750000               mov     p2_dir,#000h            ;poort 2 als input zetten
                                          ***** Error: Unresolved operand(s)
     214     214   0012F 850013               mov     ROTARY,p2_data          ;de waarde van de encoders bewaren
                                          ***** Error: Unresolved operand(s)
     215     215   00132 D000                 pop     psw
                                          ***** Error: Unresolved operand(s)
     216     216   00134 D000                 pop     psw
                                          ***** Error: Unresolved operand(s)
     217     217   00136 22               ret
     218     218   00137                  
     219     219   00137                  ;------------------------------------------------------------------
     220     220   00137                  ;lees de encoders in
     221     221   00137                  ;------------------------------------------------------------------
     222     222   00137                  readRotary:
     223     223   00137 C000                 push    acc
                                          ***** Error: Unresolved operand(s)
     224     224   00139 C000                 push    psw
                                          ***** Error: Unresolved operand(s)
     225     225   0013B E513                 mov     a,ROTARY
     226     226   0013D B50003               cjne    a,p2_data,nietGelijk
                                          ***** Error: Unresolved operand(s)
     227     227   00140 02014B               ljmp    gelijk
     228     228   00143                  nietGelijk:
     229     229   00143 850013               mov     ROTARY,p2_data
                                          ***** Error: Unresolved operand(s)
     230     230   00146 A813                 mov     r0,ROTARY
     231     231   00148 120111               lcall   debug
     232     232   0014B                  gelijk:
     233     233   0014B D000                 pop     psw
                                          ***** Error: Unresolved operand(s)
     234     234   0014D D000                 pop     acc
                                          ***** Error: Unresolved operand(s)
     235     235   0014F 22               ret
     236     236   00150                  
     237     237   00150                  ;------------------------------------------------------------------
     238     238   00150                  ;laat start menu zien
     239     239   00150                  ;------------------------------------------------------------------
     240     240   00150                  StartMenu:
     241     241   00150 C000                 push    acc
                                          ***** Error: Unresolved operand(s)
     242     242   00152 C000                 push    psw
                                          ***** Error: Unresolved operand(s)
     243     243   00154                  
     244     244   00154 D000                 pop     psw
                                          ***** Error: Unresolved operand(s)
     245     245   00156 D000                 pop     acc
                                          ***** Error: Unresolved operand(s)
     246     246   00158 22               ret
     247     247   00159                  
     248     248   00159                  
     249     249   00159                  
     250     250   00159                  
     251     251   00159                  
     252     252   00159                  
                                          ***** Error: Missing END statement
